<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Heritage Canvas</title>

  <!-- Fonts + icons + Leaflet CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

  <style>
    /* ====== Reset & root ====== */
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap');
    :root{
      --sidebar-collapsed-width: 80px;
      --sidebar-expanded-width: 340px;
      --accent: #3498db;
      --bg: #ffffff;
      --glass: rgba(255,255,255,0.9);
      --shadow: 0 6px 20px rgba(0,0,0,0.08);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:'Poppins',sans-serif;overflow:hidden}

    /* ====== Layout ====== */
    .app {
      height:100vh;
      width:100vw;
      display:flex;
      background:#f3f6fa;
    }

    /* Sidebar (fixed on left) */
    .sidebar {
      position:fixed;
      left:0;
      top:0;
      bottom:0;
      width:var(--sidebar-collapsed-width);
      background:var(--bg);
      box-shadow: 4px 0 18px rgba(0,0,0,0.06);
      transition: width 360ms cubic-bezier(.2,.9,.2,1);
      z-index:1000;
      display:flex;
      flex-direction:column;
      align-items:center;
      padding:20px 12px;
      gap:14px;
    }
    .sidebar.expanded { width: var(--sidebar-expanded-width); align-items:flex-start; padding-left:22px; }

    /* map container: occupies remaining area, pushed by JS when sidebar expands */
    #map { height:100vh; width:100%; transition: margin-left 360ms cubic-bezier(.2,.9,.2,1); }

    /* Sidebar header / logo */
    .sidebar-header{
      width:100%;
      padding:6px 0;
      margin-bottom:6px;
    }
    .logo {
      font-family:'Playfair Display',serif;
      font-size:1.6rem;
      background: linear-gradient(45deg, #2c3e50, var(--accent));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      white-space:nowrap;
      transition:opacity 200ms ease, transform 220ms ease;
      display:block;
      text-align:left;
    }
    .logo-short{ display:none; }
    .sidebar:not(.expanded) .logo-full{ display:none; }
    .sidebar:not(.expanded) .logo-short{ display:inline-block; font-size:1.25rem; }

    /* Filters */
    .filters {
      width:100%;
      display:flex;
      flex-direction:column;
      gap:12px;
      padding-right:12px;
      box-sizing:border-box;
    }
    .filter-btn{
      height:48px;
      border-radius:12px;
      border:0;
      background:#f0f4f8;
      color:#333;
      padding:0 14px;
      display:flex;
      align-items:center;
      gap:12px;
      cursor:pointer;
      font-weight:600;
      transition: transform 180ms ease, background 180ms ease;
    }
    .filter-btn i{ width:20px; text-align:center; }
    .filter-btn:hover{ transform: translateY(-3px); }
    .sidebar:not(.expanded) .filter-btn{ width:54px; justify-content:center; padding:0; }
    .sidebar:not(.expanded) .filter-btn .btn-text{ display:none; }
    .filter-btn.active{ background:var(--accent); color:#fff; }

    /* Top-left controls: hamburger + small icon (prevents overlap) */
    .top-controls {
      position:fixed;
      left:18px;
      top:16px;
      z-index:1100;
      display:flex;
      gap:10px;
      align-items:center;
      pointer-events:auto;
    }
    .hamburger {
      width:52px;height:52px;border-radius:50%;
      background:var(--glass);display:flex;align-items:center;justify-content:center;
      box-shadow:var(--shadow);cursor:pointer;border:0;font-size:1.05rem;color:#333;
      transition: transform 360ms cubic-bezier(.2,.9,.2,1), background 220ms;
    }
    .hamburger:hover{ transform: scale(1.06) rotate(12deg); background:var(--accent); color:white; }
    .hamburger.open{ transform: rotate(180deg) scale(1.02); background:var(--accent); color:#fff; }

    .brand-icon{
      width:64px;
      height:64px;
      border-radius:12px;
      background:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:var(--shadow);
      font-weight:700;
      color:var(--accent);
      transition: transform 300ms ease, opacity 300ms;
      position: relative;
      top: 4px;
      left: 4px;
    }

    /* Timeline (bottom center) */
    .timeline {
      position: fixed;
      left: 50%;
      transform: translateX(-50%);
      bottom: 24px;
      z-index: 1100;
      width: 640px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      pointer-events: auto;
      filter: drop-shadow(0 6px 18px rgba(0,0,0,0.08));
      background: rgba(255, 255, 255, 0.95);
      border-radius: 12px;
      padding: 12px 20px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
      transition: background-color 0.3s ease;
    }
    .timeline:hover {
      background: rgba(255, 255, 255, 1);
    }
    .timeline input[type="range"] {
      width: 100%;
      -webkit-appearance: none;
      height: 12px;
      border-radius: 99px;
      background: linear-gradient(90deg, #8e44ad, var(--accent));
      outline: none;
      box-shadow: 0 2px 8px rgba(142, 68, 173, 0.5);
      transition: box-shadow 0.3s ease;
    }
    .timeline input[type="range"]:hover {
      box-shadow: 0 4px 16px rgba(142, 68, 173, 0.8);
    }
    .timeline input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: #fff;
      border: 4px solid #fff;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.16);
      cursor: pointer;
      transition: transform 160ms ease, box-shadow 160ms ease;
    }
    .timeline input[type="range"]:hover::-webkit-slider-thumb {
      transform: scale(1.1);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.24);
    }
    .timeline .year {
      font-weight: 700;
      color: #28343b;
      font-size: 1.1rem;
      user-select: none;
      transition: color 0.3s ease;
    }

    /* Custom zoom controls bottom-right */
    .custom-zoom {
      position: fixed;
      right: 22px;
      bottom: 40px;
      z-index: 1200;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .zoom-btn {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      background: #3498db;
      border: none;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      cursor: pointer;
      transition: transform 0.3s ease, background-color 0.3s ease;
      user-select: none;
    }
    .zoom-btn:hover {
      background: #2c3e50;
      transform: scale(1.1);
    }
    .zoom-btn:active {
      transform: scale(0.95);
    }

    /* Custom styles for Leaflet zoom control buttons */
    .leaflet-control-zoom {
      display: none !important;
    }

    /* marker legend */
    .legend {
      position: fixed;
      left: 22px;
      bottom: 26px;
      z-index: 1200;
      background: rgba(255, 255, 255, 0.95);
      padding: 8px 12px;
      border-radius: 10px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
      font-size: 13px;
      color: #333;
      transition: background-color 0.3s ease;
    }
    .legend:hover {
      background: rgba(255, 255, 255, 1);
    }
    .legend .row {
      display: flex;
      gap: 8px;
      align-items: center;
      margin-bottom: 6px;
    }
    .legend .dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
    }

    /* responsive */
    @media (max-width:900px){
      .timeline{ width:86%; left:50%; }
      .sidebar.expanded{ width: 84vw; }
    }
  </style>
</head>
<body>
  <div class="app">

    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="logo">
          <span class="logo-full">Heritage Canvas</span>
          <span class="logo-short">HC</span>
        </div>
      </div>

      <nav class="filters" aria-label="filters">
        <button class="filter-btn active" data-theme="all" title="All"><i class="fas fa-globe-asia"></i><span class="btn-text">All</span></button>
        <button class="filter-btn" data-theme="monuments_and_architecture" title="Monuments & Architecture"><i class="fas fa-landmark"></i><span class="btn-text">Monuments & Architecture</span></button>
        <button class="filter-btn" data-theme="folk_arts_and_handcrafts" title="Folk arts & Handicrafts"><i class="fas fa-palette"></i><span class="btn-text">Folk arts & Handicrafts</span></button>
        <button class="filter-btn" data-theme="cuisine" title="Cuisine"><i class="fas fa-utensils"></i><span class="btn-text">Cuisine</span></button>
        <button class="filter-btn" data-theme="music_and_dance" title="Music & Dance"><i class="fas fa-music"></i><span class="btn-text">Music & Dance</span></button>
        <button class="filter-btn" data-theme="festivals_and_traditions" title="Festivals & Traditions"><i class="fas fa-calendar-alt"></i><span class="btn-text">Festivals & Traditions</span></button>
        <button class="filter-btn" data-theme="spiritual_and_pilgriange" title="Spiritual & Pilgrimage"><i class="fas fa-praying-hands"></i><span class="btn-text">Spiritual & Pilgrimage</span></button>
        <button class="filter-btn" data-theme="nature_and_wildlife" title="Nature & Wildlife"><i class="fas fa-leaf"></i><span class="btn-text">Nature & Wildlife</span></button>
      </nav>
    </aside>

    <div id="map"></div>

    <div class="top-controls">
      <button class="hamburger" id="hamburger" aria-label="Toggle sidebar"><i class="fas fa-bars"></i></button>
      <img src="images/heritage_icon.png" alt="Heritage Icon" id="heritageIcon" />
    </div>

    <style>
      #heritageIcon {
        width: 44px;
        height: 44px;
        border-radius: 8px;
        margin-left: 8px;
        box-shadow: 0 6px 20px rgba(0,0,0,0.08);
        transition: transform 300ms ease, opacity 300ms;
        cursor: pointer;
      }
      .top-controls {
        position: fixed;
        left: 18px;
        top: 16px;
        z-index: 1100;
        display: flex;
        gap: 10px;
        align-items: center;
        pointer-events: auto;
      }
      .hamburger {
        width: 52px;
        height: 52px;
        border-radius: 50%;
        background: rgba(255,255,255,0.9);
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 6px 20px rgba(0,0,0,0.08);
        cursor: pointer;
        border: 0;
        font-size: 1.05rem;
        color: #333;
        transition: transform 360ms cubic-bezier(.2,.9,.2,1), background 220ms;
      }
      .hamburger:hover {
        transform: scale(1.06) rotate(12deg);
        background: #3498db;
        color: white;
      }
      .hamburger.open {
        transform: rotate(180deg) scale(1.02);
        background: #3498db;
        color: #fff;
      }
      .logo {
        margin-top: 60px; /* shift down to avoid overlap */
      }
    </style>

    <div class="timeline">
      <input id="yearRange" type="range" min="400" max="2025" value="2025" />
      <div class="year" id="yearLabel">2025</div>
    </div>

    <div class="custom-zoom">
      <button class="zoom-btn" id="zoomIn" title="Zoom in"><i class="fas fa-plus"></i></button>
      <button class="zoom-btn" id="zoomOut" title="Zoom out"><i class="fas fa-minus"></i></button>
    </div>

    <!-- Removed the legend box as per user request -->
    <!-- <div class="legend">
      <div class="row"><div class="dot" style="background:#e74c3c"></div>Monuments</div>
      <div class="row"><div class="dot" style="background:#8e44ad"></div>Arts</div>
      <div class="row"><div class="dot" style="background:#f39c12"></div>Dance</div>
      <div class="row"><div class="dot" style="background:#27ae60"></div>Cuisine</div>
    </div> -->
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="script.js"></script>
</body>
</html>
